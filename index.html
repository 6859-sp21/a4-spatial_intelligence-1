<!DOCTYPE html>
<!--
//flag = 7/4 Wed afternoon
//newest version with: dynamic scaling, single tooltip, complete dropdown, chained tooltip, click to stay
//pending: vertical zoom
-->

<html>

<head>
<meta charset="utf-8">
<!-- Load D3.js v5 -->
<script src='https://d3js.org/d3.v5.min.js'></script>
<!-- Load jQuery.js, great for selecting (and subsequently manipualting) objects on the page -->
<script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
<!-- Load Underscore.js, a utility library for operating on arrays (filter, sort, min, max) -->
<script src='underscore.js'></script>
<!-- Load Bootstrap's stylesheet (CSS). It defines the default style of, among other things, the dropdown menu -->
<link href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/css/bootstrap.min.css' rel='stylesheet'>
<!-- Load Ion's rangeSlider.js, to create and style a range slider -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.0/js/ion.rangeSlider.min.js"></script>
<!-- Load the default stylesheet (CSS) for the slider -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.0/css/ion.rangeSlider.min.css"/>
<link rel="stylesheet" href="main.css"/>


</head>


<body>
  <!-- Titles -->
  <div id='title' style='width:1366px;'>
    <h1 style = 'color: #005B96'>Spatial Intelligence</h1>
    </br>
    <h2 style = 'color: #005B96; font-size: 18px'>The following graph helps you understand the customer visited the shopping mall in Feb 2021.</h2>
    <h2 style = 'color: #005B96; font-size: 18px'>Bubble Size represents the number of current cusomer type entering the store. Percentage = number / total entering number.  (Visual legends are in progress) </h2>
    </br>
    <h2 style = 'color: #005B96; font-size:20px'>CLICK the bubble if you would like to keep its trend path stay on the screen for comparison. Click again to remove it. </h2>

  </br>
  </div>

  <!-- A div contaimer for the customer type selector dropdown menu -->
  <div id='toolbar'></div>



  <div id= 'legend'>
    <svg id ='legend_type_color' width = '1500' height = '30'>
      <g class = 'legendgroup' id = 'legend_type_color' text-anchor = 'start'
      font-family = 'sans-serif' font-size = '15'
      transform = 'translate (70,0)' >
      <g transform = 'translate (-70,0)'>
        <text dominant-baseline = 'central' x= '25' y= '10'>Type:</text>
      </g>
      <g transform = 'translate (20,0)'>
        <rect width = '15' height ='15' fill ='#FAA7B8'></rect>
        <text dominant-baseline = 'central' x= '35' y= '10'>fashion</text>
        </g>
      <g transform = 'translate (140,0)'>
        <rect width = '15' height ='15' fill ='#AAB6F8'></rect>
        <text dominant-baseline = 'central' x= '25' y= '10'>accessories</text>
        </g>
      <g transform = 'translate (260,0)'>
          <rect width = '15' height ='15' fill ='#2C6975'></rect>
          <text dominant-baseline = 'central' x= '45' y= '10'>food</text>
          </g>
      <g transform = 'translate (380,0)'>
          <rect width = '15' height ='15' fill ='#94B447'></rect>
          <text dominant-baseline = 'central' x= '35' y= '10'>jewelry</text>
          </g>
      <g transform = 'translate (500,0)'>
            <rect width = '15' height ='15' fill ='#F9AD6A'></rect>
            <text dominant-baseline = 'central' x= '25' y= '10'>kids_babies</text>
            </g>
      <g transform = 'translate (620,0)'>
              <rect width = '15' height ='15' fill ='#F9E07F'></rect>
              <text dominant-baseline = 'central' x= '35' y= '10'>facilities</text>
              </g>
      <g transform = 'translate (740,0)'>
              <rect width = '15' height ='15' fill ='#CDE0C9'></rect>
              <text dominant-baseline = 'central' x= '25' y= '10'>consumer_electronics</text>
              </g>
       </g>
    </svg>
</div>

  <div id = 'button' style='width:1500px;'>
    <button type="button" id = "clear_button" onclick = "clearView();" style='position:absolute; left: 1300px; top: 260px'>Clear All Selection</button>

    <label class="switch" style='position:absolute; left: 1070px; top: 255px'>
     <input type="checkbox" id="togBtn">
     <div class="slider round" onclick = "toggle()">
      <!--ADDED HTML -->
      <span class="on">Comparison On</span>
      <span class="off">Comparison Off</span>
      <!--END-->
     </div>
    </label>
  </div>



  <!-- A div container for the main visualization -->
  <div id='vis' style='width:1500px;'>
    <svg class='chart-outer'><g class='chart'></g></svg>
  </div>

  <div id='legend' style='width:1366px;'> </div>

  <script type="text/javascript" src="viz.js"></script>
</body>


</html>

<!-- <div class='form-group'>
  <label for='franchise-var'>Label of Customer:</label>
  <select class='form-control' id='franchise-var'>
    <option value = "All" selected>All</option>
  </select>
</div> -->
